flowchart LR
    %% Left - User Actors
    Spectator[["Spectator"]]
    Agent[["Sales<br/>Agent"]]

    %% Top Row Processes
    P1(("1.0<br/>User & Role<br/>Management"))
    P2(("2.0<br/>Show<br/>Config"))
    P3(("3.0<br/>Ticket<br/>Sales"))

    %% Bottom Row Processes
    P4(("4.0<br/>Sales<br/>Reports"))
    P5(("5.0<br/>Financial<br/>Accounting"))

    %% Right - Management Actors
    Secretary[["Secretary"]]
    ShowMgr[["Show<br/>Manager"]]
    President[["President"]]
    Clerk[["Financial<br/>Clerk"]]
    Payment[["Payment<br/>Gateway"]]

    %% User interactions (left side)
    Spectator -->|Register/Login| P1
    P1 -->|Auth Token| Spectator
    Spectator -->|Book Ticket| P3
    Agent -->|Sell Ticket| P3
    P3 -->|Ticket| Spectator
    P3 -->|Ticket| Agent

    %% Management interactions (right side)
    Secretary -->|Assign Roles| P1
    P1 -->|Confirmation| Secretary
    President -->|Assign Secretary| P1
    P1 -->|Confirmation| President

    Secretary -->|Schedule Show| P2
    P2 -->|Confirmation| Secretary
    ShowMgr -->|Configure Show| P2
    P2 -->|Confirmation| ShowMgr

    %% Process flows
    P2 -->|Show Details| P3
    P3 -->|Payment Request| Payment
    Payment -->|Payment Confirmation| P3
    P3 -->|Sale Data| P4

    %% Reporting flows (right side)
    President -->|Query Sales| P4
    P4 -->|Sales Report| President
    Clerk -->|Query Sales| P4
    P4 -->|Sales Report| Clerk
    Agent -->|Query Commission| P4
    P4 -->|Commission Report| Agent

    Clerk -->|Expense Entry| P5
    President -->|Query Balance| P5
    P5 -->|Balance Sheet| President
    Clerk -->|Query Balance| P5
    P5 -->|Balance Sheet| Clerk

    P4 -->|Revenue Data| P5

    classDef external fill:#e1f5ff,stroke:#01579b,stroke-width:3px
    classDef process fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px

    class Spectator,President,Secretary,ShowMgr,Agent,Clerk,Payment external
    class P1,P2,P3,P4,P5 process
