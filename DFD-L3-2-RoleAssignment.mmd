flowchart LR
    %% Left
    President[["President"]]
    Secretary[["Secretary"]]

    %% Center - Linear Flow
    P131(("1.3.1<br/>Validate<br/>Requester"))
    P132(("1.3.2<br/>Check Target<br/>User Exists"))
    P133(("1.3.3<br/>Validate Role<br/>Authority"))
    P134(("1.3.4<br/>Add Role"))
    P135(("1.3.5<br/>Remove Role"))
    P136(("1.3.6<br/>Notify User"))

    %% Data Stores
    D1[(D1: User<br/>Accounts)]
    D2[(D2: Roles)]

    %% Flows
    President -->|Assign/Remove<br/>Secretary| P131
    Secretary -->|Assign/Remove<br/>Role| P131
    P131 <-->|Check Requester| D2
    P131 -->|Valid| P132
    P132 <-->|Check User| D1
    P132 -->|Exists| P133
    P133 <-->|Check Authority| D2
    P133 -->|Add| P134
    P133 -->|Remove| P135
    P134 -->|Insert Role| D2
    P135 -->|Delete Role| D2
    P134 -->|Notify| P136
    P135 -->|Notify| P136
    P136 -->|Confirmation| President
    P136 -->|Confirmation| Secretary

    classDef external fill:#e1f5ff,stroke:#01579b,stroke-width:3px
    classDef process fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px
    classDef datastore fill:#ffe0b2,stroke:#e65100,stroke-width:2px

    class President,Secretary external
    class P131,P132,P133,P134,P135,P136 process
    class D1,D2 datastore
